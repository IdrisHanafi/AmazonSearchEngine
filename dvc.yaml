stages:
  clean_metadata:
    cmd: python3 src/clean_metadata.py
        --input_file datasets/meta_Electronics.json
        --output_file datasets/cleaned_data.json
    outs:
    - datasets/cleaned_data.json
  m2_preparation:
    cmd: python3 src/m2_preparation.py
        --input_file datasets/cleaned_data.json
        --output_dataset_dir datasets/m2_data/
        --output_index_dir index/
        --output_model_dir models/
    deps:
    - datasets/cleaned_data.json
    outs:
    - datasets/m2_data/
    - index/
    - models/
